COMPILE
=======
You need to fetch the http-parser submodule, by typing:
git submodule init
git submodule update



TODO
====
* A lot of refactoring in server.c and http_dispatch.c
* Export the HTTP GET parameters in a custom data structure
* Lots of cleanup code.
* Remove dead code.
* Add timeouts.
* Get rid of GLib. Use antirezâ€™s hash table, from redis? Check how easy it is to extract.
* Add enums for returns messages, especially in http_dispatch.{c,h}
* Prepare a better demo.
* Add content wrapper, probably JSON.
* Add client capability detection (possible streaming or close connection after every push).



1 - run `make clean all'


2 - run ./cometd


3 - In a terminal, run:
curl "http://127.0.0.1:1234/meta/authenticate?uid=1729&sid=my-secret-sid"
curl "http://127.0.0.1:1234/meta/newchannel?name=public-channel&key=secret-key-used-to-create-channels"
curl "http://127.0.0.1:1234/meta/subscribe?name=public-channel&uid=1729&sid=my-secret-sid"
curl "http://127.0.0.1:1234/meta/connect?uid=1729&sid=my-secret-sid"

The last HTTP call (/meta/connect) is blocking.


4 - And then, in another terminal:
curl "http://127.0.0.1:1234/meta/publish?name=public-channel&data=hello-world-of-comet"


5 - The /meta/connect call returns, with the data published in the channel.

That's it for the proof of concept!

